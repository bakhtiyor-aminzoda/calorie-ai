export type Language = 'ru' | 'tj' | 'uz';

export const translations = {
  ru: {
    // Common
    'common.today': 'Сегодня',
    'common.kcal': 'ккал',
    'common.kcalOf': 'ккал из',
    'common.protein': 'Белки',
    'common.fat': 'Жиры',
    'common.carbs': 'Угли',
    'common.deleteTitle': 'Удалить запись?',
    'common.deleteMessage': 'Вы уверены, что хотите удалить "{name}"? Это действие нельзя отменить.',
    // Language Selection
    'onboarding.selectLanguageTitle': 'Выберите язык',
    'onboarding.selectLanguageHint': 'Вы можете изменить язык позже в профиле',
    // Onboarding
    'onboarding.selectLanguage': 'Выберите язык',
    'onboarding.step1.title': 'О вас',
    'onboarding.step1.subtitle': 'Шаг 1 из 3',
    'onboarding.step2.title': 'Активность',
    'onboarding.step2.subtitle': 'Шаг 2 из 3',
    'onboarding.step3.title': 'Ваша цель',
    'onboarding.step3.subtitle': 'Шаг 3 из 3',
    'onboarding.yourName': 'Вас зовут?',
    'onboarding.name': 'Имя',
    'onboarding.selectGender': 'Выберите пол',
    'onboarding.male': 'Мужчина',
    'onboarding.female': 'Женщина',
    'onboarding.age': 'Возраст',
    'onboarding.height': 'Рост (см)',
    'onboarding.weight': 'Вес (кг)',
    'onboarding.bmi': 'Индекс массы тела',
    'onboarding.bmiNorm': 'Норма: 18.5 – 25',
    'onboarding.next': 'Далее',
    'onboarding.start': 'Начать',
    'onboarding.activity.minimal': 'Минимальная',
    'onboarding.activity.light': 'Лёгкая',
    'onboarding.activity.moderate': 'Средняя',
    'onboarding.activity.active': 'Высокая',
    'onboarding.activity.veryActive': 'Экстремальная',
    'onboarding.goal.loss': 'Сбросить',
    'onboarding.goal.maintain': 'Держать',
    'onboarding.goal.gain': 'Набрать',
    'onboarding.recommendedCalories': 'Ваша норма',
    'onboarding.perDay': 'ккал / день',
    // Subscription
    'subscription.price': '30 TJS / 3 мес',
    'subscription.pricePerMonth': '10 TJS / мес',
    // Main Screen
    'main.overviewTitle': 'Обзор калорий',
    'main.remaining': 'Осталось',
    'main.over': 'Перебор',
    'main.mealsTitle': 'Приемы пищи',
    'main.emptyTitle': 'Ни одной записи',
    'main.emptyText': 'Сфотографируй завтрак или обед, чтобы начать расчет',
    // Calendar
    'calendar.historyTitle': 'История',
    'calendar.weekday.mon': 'Пн',
    'calendar.weekday.tue': 'Вт',
    'calendar.weekday.wed': 'Ср',
    'calendar.weekday.thu': 'Чт',
    'calendar.weekday.fri': 'Пт',
    'calendar.weekday.sat': 'Сб',
    'calendar.weekday.sun': 'Вс',
    'calendar.emptyTitle': 'Пусто',
    'calendar.emptyText': 'В этот день вы не добавляли приемов пищи',
    // Profile
    'profile.title': 'Профиль',
    'profile.edit': 'Изменить',
    'profile.save': 'Сохранить',
    'profile.dailyGoal': 'Дневная цель',
    'profile.auto': 'АВТО',
    'profile.autoHint': 'Будет обновлено автоматически при сохранении',
    'profile.subActive': 'Premium Активен',
    'profile.expiresTo': 'До',
    'profile.pending': 'Проверка',
    'profile.pendingText': 'Запрос обрабатывается',
    'profile.rejected': 'Отклонено',
    'profile.tryAgain': 'Попробуйте снова',
    'profile.fix': 'Исправить',
    'profile.connectPremium': 'Подключить Premium',
    'profile.paramsTitle': 'Параметры тела',
    'profile.weight': 'Вес',
    'profile.height': 'Рост',
    'profile.age': 'Возраст',
    'profile.activity': 'Активность',
    'profile.goal': 'Цель',
    'profile.language': 'Язык',
    'profile.gender': 'Пол',
    'profile.male': 'Мужчина',
    'profile.female': 'Женщина',
    'profile.activity.sedentary': 'Минимальная',
    'profile.activity.light': 'Лёгкая',
    'profile.activity.moderate': 'Средняя',
    'profile.activity.active': 'Высокая',
    'profile.activity.veryActive': 'Экстремальная',
    'profile.activity.sedentary.desc': 'Офисная работа, почти без спорта',
    'profile.activity.light.desc': 'Прогулки, уборка, легкая зарядка',
    'profile.activity.moderate.desc': 'Тренировки 3-5 раз в неделю',
    'profile.activity.active.desc': 'Интенсивный спорт 6-7 дней',
    'profile.activity.veryActive.desc': 'Проф. спорт или тяжелый труд',
    'profile.goal.loss': 'Сбросить вес',
    'profile.goal.maintain': 'Поддерживать',
    'profile.goal.gain': 'Набрать массу',
    'profile.goal.loss.desc': 'Дефицит калорий для похудения',
    'profile.goal.maintain.desc': 'Норма для сохранения веса',
    'profile.goal.gain.desc': 'Профицит для роста мышц'
  },
  tj: {
    // Common
    'common.today': 'Имрӯз',
    'common.kcal': 'ккал',
    'common.kcalOf': 'ккал аз',
    'common.protein': 'Сафедаҳо',
    'common.fat': 'Равғанҳо',
    'common.carbs': 'Карбогидратҳо',
    'common.deleteTitle': 'Сабтро нест кунед?',
    'common.deleteMessage': 'Шумо мутмаин ҳастед, ки мехоҳед "{name}"-ро нест кунед? Ин амал бекор намешавад.',
    // Language Selection
    'onboarding.selectLanguageTitle': 'Забони худро интихоб кунед',
    'onboarding.selectLanguageHint': 'Шумо метавонед забониро дар профилатон дертар тағйир диҳед',
    // Onboarding
    'onboarding.selectLanguage': 'Забони худро интихоб кунед',
    'onboarding.step1.title': 'Дар бораи шумо',
    'onboarding.step1.subtitle': 'Қадами 1 аз 3',
    'onboarding.step2.title': 'Фаъолият',
    'onboarding.step2.subtitle': 'Қадами 2 аз 3',
    'onboarding.step3.title': 'Мақсади шумо',
    'onboarding.step3.subtitle': 'Қадами 3 аз 3',
    'onboarding.yourName': 'Номи шумо чист?',
    'onboarding.name': 'Ном',
    'onboarding.selectGender': 'Ҷинси худро интихоб кунед',
    'onboarding.male': 'Мард',
    'onboarding.female': 'Зан',
    'onboarding.age': 'Синну сол',
    'onboarding.height': 'Қад (см)',
    'onboarding.weight': 'Вазн (кг)',
    'onboarding.bmi': 'Индекси массаи ҷисм',
    'onboarding.bmiNorm': 'Норма: 18.5 – 25',
    'onboarding.next': 'Пешрафт',
    'onboarding.start': 'Шурӯъ',
    'onboarding.activity.minimal': 'Ҳадди ақал',
    'onboarding.activity.light': 'Сабук',
    'onboarding.activity.moderate': 'Миёнак',
    'onboarding.activity.active': 'Баланд',
    'onboarding.activity.veryActive': 'Экстремал',
    'onboarding.goal.loss': 'Паст кунед',
    'onboarding.goal.maintain': 'Нигоҳ доред',
    'onboarding.goal.gain': 'Афзоиш',
    'onboarding.recommendedCalories': 'Нормаи шумо',
    'onboarding.perDay': 'калория / рӯз',
    // Subscription
    'subscription.price': '30 TJS / 3 мас',
    'subscription.pricePerMonth': '10 TJS / мас',
    // Main Screen
    'main.overviewTitle': 'Нигоҳи калория',
    'main.remaining': 'Боқӣ',
    'main.over': 'Зиёд',
    'main.mealsTitle': 'Қабули хӯрок',
    'main.emptyTitle': 'Ягон сабт нест',
    'main.emptyText': 'Субҳона ё нисфирӯзиро акс гиред, то ҳисоб оғоз шавад',
    // Calendar
    'calendar.historyTitle': 'Таърих',
    'calendar.weekday.mon': 'Дш',
    'calendar.weekday.tue': 'Сш',
    'calendar.weekday.wed': 'Чш',
    'calendar.weekday.thu': 'Пш',
    'calendar.weekday.fri': 'Ҷм',
    'calendar.weekday.sat': 'Шн',
    'calendar.weekday.sun': 'Яш',
    'calendar.emptyTitle': 'Холӣ',
    'calendar.emptyText': 'Дар ин рӯз шумо хӯрок илова накардаед',
    // Profile
    'profile.title': 'Профил',
    'profile.edit': 'Тағйир',
    'profile.save': 'Сабт',
    'profile.dailyGoal': 'Ҳадафи рӯзона',
    'profile.auto': 'АВТО',
    'profile.autoHint': 'Ҳангоми нигоҳдорӣ худкор нав мешавад',
    'profile.subActive': 'Premium фаъол аст',
    'profile.expiresTo': 'То',
    'profile.pending': 'Санҷиш',
    'profile.pendingText': 'Дархост санҷида мешавад',
    'profile.rejected': 'Рад шуд',
    'profile.tryAgain': 'Боз кӯшиш кунед',
    'profile.fix': 'Ислоҳ',
    'profile.connectPremium': 'Premium-ро фаъол кунед',
    'profile.paramsTitle': 'Параметрҳои бадан',
    'profile.weight': 'Вазн',
    'profile.height': 'Қад',
    'profile.age': 'Синну сол',
    'profile.activity': 'Фаъолият',
    'profile.goal': 'Ҳадаф',
    'profile.language': 'Забон',
    'profile.gender': 'Ҷинс',
    'profile.male': 'Мард',
    'profile.female': 'Зан',
    'profile.activity.sedentary': 'Ҳадди ақал',
    'profile.activity.light': 'Сабук',
    'profile.activity.moderate': 'Миёна',
    'profile.activity.active': 'Баланд',
    'profile.activity.veryActive': 'Экстремал',
    'profile.activity.sedentary.desc': 'Кори офисӣ, қариб бе варзиш',
    'profile.activity.light.desc': 'Сайругашт, хонасозӣ, машқи сабук',
    'profile.activity.moderate.desc': 'Машқ 3-5 маротиба дар ҳафта',
    'profile.activity.active.desc': 'Варзиши шадид 6-7 рӯз',
    'profile.activity.veryActive.desc': 'Варзиши касбӣ ё меҳнати вазнин',
    'profile.goal.loss': 'Кам кардани вазн',
    'profile.goal.maintain': 'Нигоҳдорӣ',
    'profile.goal.gain': 'Зиёд кардани масса',
    'profile.goal.loss.desc': 'Кам кардани калория барои лоғаршавӣ',
    'profile.goal.maintain.desc': 'Меъёр барои нигоҳдории вазн',
    'profile.goal.gain.desc': 'Зиёд барои афзоиши мушак'
  },
  uz: {
    // Common
    'common.today': 'Bugun',
    'common.kcal': 'kkal',
    'common.kcalOf': 'kkal dan',
    'common.protein': 'Oqsillar',
    'common.fat': 'Yogʻlar',
    'common.carbs': 'Uglevodlar',
    'common.deleteTitle': 'Yozuvni o‘chirasizmi?',
    'common.deleteMessage': '"{name}" ni o‘chirmoqchimisiz? Bu amal bekor qilinmaydi.',
    // Language Selection
    'onboarding.selectLanguageTitle': 'Tilni tanlang',
    'onboarding.selectLanguageHint': 'Siz profilingizda tilni keyinroq oʻzgartirishingiz mumkin',
    // Onboarding
    'onboarding.selectLanguage': 'Tilni tanlang',
    'onboarding.step1.title': 'Siz haqingizda',
    'onboarding.step1.subtitle': '1-bosqich 3-dan',
    'onboarding.step2.title': 'Faollik',
    'onboarding.step2.subtitle': '2-bosqich 3-dan',
    'onboarding.step3.title': 'Sizning maqsadingiz',
    'onboarding.step3.subtitle': '3-bosqich 3-dan',
    'onboarding.yourName': 'Sizning ismingiz nima?',
    'onboarding.name': 'Ism',
    'onboarding.selectGender': 'Jinsingizni tanlang',
    'onboarding.male': 'Erkak',
    'onboarding.female': 'Ayol',
    'onboarding.age': 'Yosh',
    'onboarding.height': 'Boʻy (sm)',
    'onboarding.weight': 'Vazn (kg)',
    'onboarding.bmi': 'Tana massasi indeksi',
    'onboarding.bmiNorm': 'Norma: 18.5 – 25',
    'onboarding.next': 'Keyingi',
    'onboarding.start': 'Boshlash',
    'onboarding.activity.minimal': 'Minimal',
    'onboarding.activity.light': 'Engil',
    'onboarding.activity.moderate': "Oʻrta",
    'onboarding.activity.active': 'Yuqori',
    'onboarding.activity.veryActive': 'Ekstremал',
    'onboarding.goal.loss': 'Kamaytirish',
    'onboarding.goal.maintain': 'Saqlash',
    'onboarding.goal.gain': "Koʻpaytirib",
    'onboarding.recommendedCalories': 'Sizning norma',
    'onboarding.perDay': 'kkal / kun',
    // Subscription
    'subscription.price': '38888 soʻm / 3 oy',
    'subscription.pricePerMonth': '12962 soʻm / oy',
    // Main Screen
    'main.overviewTitle': 'Kaloriyalar sharhi',
    'main.remaining': 'Qoldi',
    'main.over': 'Ortiqcha',
    'main.mealsTitle': 'Ovqatlar',
    'main.emptyTitle': 'Hech qanday yozuv yoʻq',
    'main.emptyText': 'Nonushta yoki tushlikni suratga oling, hisob boshlansin',
    // Calendar
    'calendar.historyTitle': 'Tarix',
    'calendar.weekday.mon': 'Du',
    'calendar.weekday.tue': 'Se',
    'calendar.weekday.wed': 'Ch',
    'calendar.weekday.thu': 'Pa',
    'calendar.weekday.fri': 'Ju',
    'calendar.weekday.sat': 'Sh',
    'calendar.weekday.sun': 'Ya',
    'calendar.emptyTitle': 'Boʻsh',
    'calendar.emptyText': 'Bu kunda ovqat qoʻshilmagan',
    // Profile
    'profile.title': 'Profil',
    'profile.edit': 'Tahrirlash',
    'profile.save': 'Saqlash',
    'profile.dailyGoal': 'Kunlik maqsad',
    'profile.auto': 'AVTO',
    'profile.autoHint': 'Saqlanganda avtomatik yangilanadi',
    'profile.subActive': 'Premium faol',
    'profile.expiresTo': 'Gacha',
    'profile.pending': 'Tekshiruv',
    'profile.pendingText': 'Soʻrov tekshirilmoqda',
    'profile.rejected': 'Rad etildi',
    'profile.tryAgain': 'Qayta urinib koʻring',
    'profile.fix': 'Tuzatish',
    'profile.connectPremium': 'Premiumni ulash',
    'profile.paramsTitle': 'Tana parametrlari',
    'profile.weight': 'Vazn',
    'profile.height': 'Boʻy',
    'profile.age': 'Yosh',
    'profile.activity': 'Faollik',
    'profile.goal': 'Maqsad',
    'profile.language': 'Til',
    'profile.gender': 'Jins',
    'profile.male': 'Erkak',
    'profile.female': 'Ayol',
    'profile.activity.sedentary': 'Minimal',
    'profile.activity.light': 'Yengil',
    'profile.activity.moderate': 'Oʻrtacha',
    'profile.activity.active': 'Yuqori',
    'profile.activity.veryActive': 'Ekstremal',
    'profile.activity.sedentary.desc': 'Ofis ishi, deyarli sport yoʻq',
    'profile.activity.light.desc': 'Sayr, uy ishlari, yengil mashq',
    'profile.activity.moderate.desc': 'Haftasiga 3-5 marta mashq',
    'profile.activity.active.desc': '6-7 kun intensiv sport',
    'profile.activity.veryActive.desc': 'Professional sport yoki ogʻir mehnat',
    'profile.goal.loss': 'Vazn kamaytirish',
    'profile.goal.maintain': 'Saqlab qolish',
    'profile.goal.gain': 'Vazn oshirish',
    'profile.goal.loss.desc': 'Ozish uchun kaloriya defitsiti',
    'profile.goal.maintain.desc': 'Vaznni saqlash normasi',
    'profile.goal.gain.desc': 'Mushak o‘sishi uchun profisit'
  }
} as const;

export function t(key: string, language: Language = 'ru'): string {
  const keys = key.split('.');
  let value: any = translations[language] ?? translations.ru;
  for (const k of keys) {
    value = value?.[k];
  }

  if (value === undefined || value === null) {
    if (language !== 'ru') {
      let fallback: any = translations.ru;
      for (const k of keys) {
        fallback = fallback?.[k];
      }
      if (fallback !== undefined && fallback !== null) return String(fallback);
    }
    return key;
  }

  return String(value);
}

export function localeForLanguage(language: Language = 'ru'): string {
  if (language === 'uz') return 'uz-UZ';
  if (language === 'tj') return 'tg-TJ';
  return 'ru-RU';
}
